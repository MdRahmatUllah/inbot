---
type: "always_apply"
---

---
type: "always_apply"---

# Observability & Testing Standards

## Logging
- Structured JSON logs
- Include request_id and trace_id

## Metrics
- Latency (p50, p95)
- Tool usage frequency
- Ingestion failure rate

## Testing Requirements
- Unit tests for usecases
- Integration tests for DB + Qdrant
- E2E tests for chat + KB retrieval

## Definition of Done
- Tests added
- Logs and metrics added
- Security checked
- Docs updated
